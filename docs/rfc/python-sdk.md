# Python SDK development guidelines

## Definitions

### Python SDK

Public, [documented](https://docs.determined.ai/latest/training-apis/api-core/reference.html), 
hand-written python client for Determined master REST APIs.

### Autogenerated bindings

Autogenerated bindings for Determined master API can be found in the 
[`determined.common.api.bindings` package](https://github.com/determined-ai/determined/blob/master/harness/determined/common/api/bindings.py).

These are automatically generated from protobuf definitions by
[`bindings/generate_bindings.py`](https://github.com/determined-ai/determined/blob/master/bindings/generate_bindings.py).

## Guidelines

1. Python SDK is a user-facing API, so it should be treated with care. If you see an ambiguity in an API method you're looking to add, bring it up with the team.
1. Use autogenerated `bindings` or wrappers around them for the new CLI and e2e testing code. Do not use plain URLs and hand-rolled payload serialization.
1. Expose new, useful, and high quality wrappers in the Python API. Documented methods functionally mirroring a CLI command will be wonderful.

### Method naming and design

1. First-class entities that have get/create/list actions get top-level functions for `client.get_*`, `client.list_*`, `client.create_*`, e.g. `client.create_experiment`, `client.list_agents`.
1. Entity actions or attribute modifiers are methods on the class instances, e.g. `Experiment#delete`. get/create/list actions for nested entities that donâ€™t make sense as first-class entities mentioned above, are also methods on the class instances, e.g. `Model#get_version`.
1. Follow the naming consistent with the CLI. Users come to python SDK from the CLI, and we should take this transition into consideration when naming things. For example, `det command list` maps to `client.list_commands`, `det model list-versions` maps to `Model#list_versions`.
1. `list_*` functions and methods should return an `Iterable`, i.e. a python generator, as opposed to python `List`. This makes better use of pagination and allows for lazy processing and early termination.
